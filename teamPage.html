<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Team Page</title>
        <link rel="stylesheet" href="common.css">
        <link rel="stylesheet" href="teamPage.css">
        <link rel="stylesheet" href="API_containers.css" />
        <script type="module" crossorigin src="https://widgets.api-sports.io/3.1.0/widgets.js"></script>
    </head>
    <body>
        <header>
            <nav class="navbar">
              <a href="index.html" class="logo">Match Hub</a>
              <ul class="nav-links">
                <li><a href="teamPage.html">TEAMS</a></li>
                <li><a href="leaderBoard.html">LEADERBOARD</a></li>
                <li><a href="Matches.php">MATCHES</a></li>
              </ul>
              <input type="text" class="search-bar" placeholder="Search..."/>
            </nav>
          </header>

    <main>
        <h1 class="team-page-title">MLS Teams</h1>

          <!-- Eastern Conference -->
  <div class="conference">
    <h2 class="conference-title">Eastern Conference</h2>
    <div class="teams-container">


  <!-- Western Conference -->
  <div class="conference">
    <h2 class="conference-title">Western Conference</h2>
    <div class="teams-container">


    </div>

    <div class="API-containers">
      <p>Click on specific matches or team logos for more information</p>
      <!-- Center Container: (MSL) Games-->
      <div class="box" id="league-list">
        <api-sports-widget data-type="league"
          data-league="253">
        </api-sports-widget>
      </div>

      <!-- Right Containers: -->
       <div class="right-column">

        <!-- Team -->
        <div class="box" id="team-list">
          <api-sports-widget data-type="team"
            data-team-squad="true"
            data-team-statistics="true">
          </api-sports-widget>
        </div>

          <!-- Game -->
          <div class="box sticky" id="game-list">
            <api-sports-widget data-type="game"></api-sports-widget>
          </div>

       </div>
      
    </div>

    <api-sports-widget
      data-type="config"
      data-sport="football"
      data-key="9dacac3e3a9a76dda5da54c523c99bca"
      data-lang="en"
      data-theme="dark"
      data-show-errors="true"
      data-refresh="20"
      data-show-logos="true"
      data-favorite="true"

      data-team-squad="true"
      data-team-statistics="true"
      data-games-style="2"

      data-target-league="#league-list"
      data-target-team="#team-list"
      data-target-game="#game-list">
    </api-sports-widget>

        
   </main>
  </body>
</html>

  <script>
    const isLoggedIn = localStorage.getItem("loggedIn") === "true";

    if (localStorage.getItem("loggedIn") !== "true") {
        window.location.href = "login.html";
    }

    const searchBar = document.querySelector(".search-bar");
    const teamCards = document.querySelectorAll(".team-card");

    if (isLoggedIn) {
      searchBar.style.display = "block";
      searchBar.disabled = false;
    }

    searchBar.addEventListener("input", function () {
      const searchValue = searchBar.value.toLowerCase();

      teamCards.forEach(card => {
        const teamName = card.querySelector(".team-name").textContent.toLowerCase();
        card.style.display = teamName.includes(searchValue) ? "block" : "none";
      });
    });
  </script>

</html>
